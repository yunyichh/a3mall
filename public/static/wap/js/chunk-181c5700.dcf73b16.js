(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-181c5700"],{3050:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{wrap:t.placeholder}},[s("div",{staticClass:"nav-bar",class:{"nav-bar-fixed":t.fixed,"nav-bar-transparent":t.transparent},style:t.obj},[t.leftArrow?s("div",{staticClass:"nav-bar-left",on:{click:t.left}},[s("i",{staticClass:"icon iconfont",class:{"nav-bar-icon":t.transparent},staticStyle:{"font-size":"18px"}},[t._v("")])]):t._e(),s("div",{staticClass:"nav-bar-middle",class:{"nav-bar-title":t.transparent}},[t._v(t._s(t.title))]),t.rightArrow?s("div",{staticClass:"nav-bar-right",on:{click:t.right}},["share"==t.rightIcon?s("i",{staticClass:"icon iconfont",class:{"nav-bar-icon":t.transparent},staticStyle:{"font-size":"18px"}},[t._v("")]):t._e(),"delete"==t.rightIcon?s("i",{staticClass:"icon iconfont",class:{"nav-bar-icon":t.transparent},staticStyle:{"font-size":"16px"}},[t._v("")]):t._e()]):t._e()])])},n=[],a=(s("a9e3"),{name:"NavBar",props:{title:{type:String,default:""},zIndex:{type:Number,default:0},fixed:{type:Boolean,default:!1},transparent:{type:Boolean,default:!1},backgroundColor:{type:String,default:""},placeholder:{type:Boolean,default:!1},leftArrow:{type:Boolean,default:!1},rightArrow:{type:Boolean,default:!1},rightIcon:{type:String,default:""}},data:function(){return{obj:{}}},mounted:function(){this.zIndex>0&&(this.obj={"z-index":this.zIndex}),""!=this.backgroundColor&&Object.assign(this.obj,{"background-color":this.backgroundColor})},methods:{left:function(){this.$emit("click-left")},right:function(){this.$emit("click-right")}}}),o=a,r=(s("f18a"),s("2877")),c=Object(r["a"])(o,i,n,!1,null,"646e11e8",null);e["a"]=c.exports},3631:function(t,e,s){"use strict";var i=s("cce7"),n=s.n(i);n.a},"36e7":function(t,e,s){},3971:function(t,e,s){},"40a8":function(t,e,s){"use strict";var i=s("ac76"),n=s.n(i);n.a},"4d63":function(t,e,s){var i=s("83ab"),n=s("da84"),a=s("94ca"),o=s("7156"),r=s("9bf2").f,c=s("241c").f,u=s("44e7"),l=s("ad6d"),d=s("9f7f"),f=s("6eeb"),p=s("d039"),h=s("69f3").set,v=s("2626"),b=s("b622"),m=b("match"),g=n.RegExp,_=g.prototype,k=/a/g,y=/a/g,S=new g(k)!==k,C=d.UNSUPPORTED_Y,x=i&&a("RegExp",!S||C||p((function(){return y[m]=!1,g(k)!=k||g(y)==y||"/a/i"!=g(k,"i")})));if(x){var I=function(t,e){var s,i=this instanceof I,n=u(t),a=void 0===e;if(!i&&n&&t.constructor===I&&a)return t;S?n&&!a&&(t=t.source):t instanceof I&&(a&&(e=l.call(t)),t=t.source),C&&(s=!!e&&e.indexOf("y")>-1,s&&(e=e.replace(/y/g,"")));var r=o(S?new g(t,e):g(t,e),i?this:_,I);return C&&s&&h(r,{sticky:s}),r},N=function(t){t in I||r(I,t,{configurable:!0,get:function(){return g[t]},set:function(e){g[t]=e}})},w=c(g),A=0;while(w.length>A)N(w[A++]);_.constructor=I,I.prototype=_,f(n,"RegExp",I)}v("RegExp")},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,s){var i=s("1d80"),n=s("5899"),a="["+n+"]",o=RegExp("^"+a+a+"*"),r=RegExp(a+a+"*$"),c=function(t){return function(e){var s=String(i(e));return 1&t&&(s=s.replace(o,"")),2&t&&(s=s.replace(r,"")),s}};t.exports={start:c(1),end:c(2),trim:c(3)}},"66d3":function(t,e,s){"use strict";var i=s("36e7"),n=s.n(i);n.a},"6b91":function(t,e,s){"use strict";var i=s("9714"),n=s.n(i);n.a},7156:function(t,e,s){var i=s("861d"),n=s("d2bb");t.exports=function(t,e,s){var a,o;return n&&"function"==typeof(a=e.constructor)&&a!==s&&i(o=a.prototype)&&o!==s.prototype&&n(t,o),t}},"7afd":function(t,e,s){"use strict";var i=s("fe94"),n=s.n(i);n.a},"7cc0":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"goods-action"},[t._t("default")],2)},n=[],a={name:"GoodsAction"},o=a,r=(s("6b91"),s("2877")),c=Object(r["a"])(o,i,n,!1,null,"77a9565c",null);e["a"]=c.exports},"85b3":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"sku-action",class:{"sku-show":1==t.value}},[s("div",{staticClass:"sku-header"},[s("div",{staticClass:"sku-header-image"},[s("img",{attrs:{src:t.goods.photo}})]),s("div",{staticClass:"sku-header-goods-info"},[t._t("sku-header-price",[s("div",{staticClass:"sku-header-goods-price"},[s("span",{staticClass:"symbol"},[t._v("￥")]),s("span",{staticClass:"price"},[t._v(t._s(t.goodsPrice||""))])])],{price:t.goodsPrice}),s("div",{staticClass:"sku-header-item"},[s("span",{staticClass:"sku-stock"},[t._v(" 剩余"),s("i",{staticClass:"stock-num"},[t._v(t._s(t.goodsStockNumber||t.goods.store_nums||"0"))]),t._v("件 ")])]),s("div",{staticClass:"sku-header-item"},[t._v(t._s(t.specSelected||""))])],2)]),s("div",{staticClass:"sku-body",style:{"max-height":t.maxHeight+"px"}},[s("div",{staticClass:"sku-group-container"},t._l(t.attribute,(function(e,i){return s("div",{key:i,staticClass:"sku-row"},[s("div",{staticClass:"sku-row-title"},[t._v(t._s(e.name))]),t._l(e.list,(function(i,n){return s("span",{key:n,staticClass:"sku-row-item",class:{"sku-row-item-active":i.selected&&0==i.disable,"sku-row-item-disable":i.disable}},[s("i",{staticClass:"sku-row-item-name",on:{click:function(s){return t.onSelected(e.id,i.id)}}},[t._v(t._s(i.value))])])}))],2)})),0),s("div",{staticClass:"sku-stepper-stock"},[s("div",{staticClass:"sku-stepper-title"},[t._v("购买数量")]),s("div",{staticClass:"stepper sku-stepper"},[s("button",{staticClass:"stepper-minus",class:{"stepper-minus-disabled":t.number<=1},attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.minus(e)}}}),s("input",{staticClass:"stepper-input",attrs:{type:"number",disabled:"disabled"},domProps:{value:t.number}}),s("button",{staticClass:"stepper-plus",class:{"stepper-minus-disabled":t.number>=t.goodsStockNumber},attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.plus(e)}}})])]),s("div",{staticStyle:{width:"100%",height:"55px"}})]),s("i",{staticClass:"fa fa-times-circle",attrs:{id:"close"},on:{click:function(e){return e.stopPropagation(),t.onClose(e)}}})]),s("popup",{model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)},n=[],a=(s("a15b"),s("fb6a"),s("b0c0"),s("4d63"),s("ac1f"),s("25f0"),s("ade3")),o=s("badd"),r={name:"SkuAction",components:Object(a["a"])({},o["a"].name,o["a"]),props:{value:{type:Boolean,default:!1},fields:{required:!0,type:Array,default:function(){return[]}},goods:{default:function(){return{}}},attribute:{default:function(){return[]}},item:{default:function(){return{}}},goodsInfo:{default:function(){return{}}}},data:function(){return{maxHeight:0,number:1,minNumber:1,maxNumber:0,specSelected:"",selectedSku:[],goodsPrice:"",goodsStockNumber:"",selectedGoodsInfo:{}}},mounted:function(){this.maxHeight=window.innerHeight-200},watch:{goods:{handler:function(t,e){this.goodsStockNumber=this.goods.store_nums,this.goodsPrice=this.goods.sell_price;var s={};for(var i in this.goods)this.$tools.in_array(i,this.fields)&&(s[i]=this.goods[i]);Object.assign(s,{num:this.number,isSubmit:!0,selectedSku:{id:"",specSelected:""}}),this.selectedGoodsInfo=s},deep:!0},attribute:{handler:function(t,e){if(!(this.attribute.length<=0)){var s=[];for(var i in this.selectedSku=[],this.attribute)for(var n in this.attribute[i]["list"])this.attribute[i]["list"][n]["selected"]&&!this.attribute[i]["list"][n]["disable"]&&(this.selectedSku.push(this.attribute[i]["list"][n]),s.push({name:this.attribute[i].name,value:this.attribute[i]["list"][n].value}));var a=[];for(var o in this.selectedSku)a.push(this.selectedSku[o].pid+"_"+this.selectedSku[o].id);if(this.attribute.length==a.length&&void 0!=this.item[a.join("_")]){var r=this.item[a.join("_")];this.goodsPrice=r.sell_price,this.goodsStockNumber=r.store_nums,this.number>=r.store_nums&&(this.number=r.store_nums),this.selectedGoodsInfo.selectedSku.id=r.product_id,this.selectedGoodsInfo.isSubmit=!0}else this.selectedGoodsInfo.isSubmit=!1;this.specSelected="";var c=[];for(var u in s)c.push(s[u].name+":"+s[u].value);c.length>0&&(this.selectedGoodsInfo.selectedSku.specSelected=c.join(","),this.specSelected="己选择："+c.join(","))}},deep:!0},selectedGoodsInfo:{handler:function(t,e){this.$emit("update:goods-info",this.selectedGoodsInfo)},deep:!0}},methods:{minus:function(){this.number<=1||(this.number-=1,this.selectedGoodsInfo.num=this.number)},plus:function(){this.number>=this.goodsStockNumber||(this.number+=1,this.selectedGoodsInfo.num=this.number)},onClose:function(){this.$emit("input",!this.value)},checkStatus:function(t,e){var s=this.attribute,i=!1;for(var n in s)if(t==s[n]["id"])for(var a in s[n]["list"]){var o=s[n]["list"][a];if(t==o["pid"]&&e==o["id"]&&o["disable"]){i=!0;break}}return i},onSelected:function(t,e){if(!this.checkStatus(t,e)){var s=[];for(var i in this.attribute)if(s[i]="[A-Za-z0-9_\\:\\,]+",t==this.attribute[i]["id"])for(var n in this.attribute[i]["list"]){var a=this.attribute[i]["list"][n];if(t==a["pid"]&&e==a["id"]){var o=!a.selected;this.$set(this.attribute[i]["list"][n],"selected",o),1==o&&(s[i]=a.pid+":"+a.id)}else this.$set(this.attribute[i]["list"][n],"selected",!1)}for(var r in this.attribute)for(var c in this.attribute[r]["list"]){var u=this.attribute[r]["list"][c],l=s.slice();l[r]=u.pid+":"+u.id;var d=!0;for(var f in this.item){var p=new RegExp(l.join(","));p.test(this.item[f].key)&&this.item[f].store_nums>0&&(d=!1)}this.$set(this.attribute[r]["list"][c],"disable",d)}}}}},c=r,u=(s("66d3"),s("2877")),l=Object(u["a"])(c,i,n,!1,null,"96545ac6",null);e["a"]=l.exports},9714:function(t,e,s){},a15b:function(t,e,s){"use strict";var i=s("23e7"),n=s("44ad"),a=s("fc6a"),o=s("a640"),r=[].join,c=n!=Object,u=o("join",",");i({target:"Array",proto:!0,forced:c||!u},{join:function(t){return r.call(a(this),void 0===t?",":t)}})},a65e:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"goods-action-icon",class:"goods-action-icon-"+t.icon},[s("div",{on:{click:t.btn}},["home"==t.icon?s("span",{staticClass:"icon iconfont",staticStyle:{"font-size":"18px"}},[t._v("")]):t._e(),"cart"==t.icon?s("span",{staticClass:"icon iconfont",staticStyle:{"font-size":"18px"}},[t._v("")]):t._e(),"collect"==t.icon?s("span",{staticClass:"icon iconfont",class:{active:t.active},staticStyle:{"font-size":"18px"}},[t._v("")]):t._e(),t.count?s("i",[t._v(t._s(t.count))]):t._e()]),s("div",[s("span",{class:{active:t.active}},[t._v(t._s(t.text))])])])},n=[],a=(s("a9e3"),{name:"GoodsActionIcon",props:{icon:{type:String,default:""},text:{type:String,default:""},count:{type:[Number,String],default:0},active:{type:Boolean,default:!1}},methods:{btn:function(){this.$emit("click")}}}),o=a,r=(s("7afd"),s("2877")),c=Object(r["a"])(o,i,n,!1,null,"2017f3a2",null);e["a"]=c.exports},a9e3:function(t,e,s){"use strict";var i=s("83ab"),n=s("da84"),a=s("94ca"),o=s("6eeb"),r=s("5135"),c=s("c6b6"),u=s("7156"),l=s("c04e"),d=s("d039"),f=s("7c73"),p=s("241c").f,h=s("06cf").f,v=s("9bf2").f,b=s("58a8").trim,m="Number",g=n[m],_=g.prototype,k=c(f(_))==m,y=function(t){var e,s,i,n,a,o,r,c,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=b(u),e=u.charCodeAt(0),43===e||45===e){if(s=u.charCodeAt(2),88===s||120===s)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+u}for(a=u.slice(2),o=a.length,r=0;r<o;r++)if(c=a.charCodeAt(r),c<48||c>n)return NaN;return parseInt(a,i)}return+u};if(a(m,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var S,C=function(t){var e=arguments.length<1?0:t,s=this;return s instanceof C&&(k?d((function(){_.valueOf.call(s)})):c(s)!=m)?u(new g(y(e)),s,C):y(e)},x=i?p(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;x.length>I;I++)r(g,S=x[I])&&!r(C,S)&&v(C,S,h(g,S));C.prototype=_,_.constructor=C,o(n,m,C)}},ac76:function(t,e,s){},badd:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mask",class:{hide:0==t.value,show:1==t.value},on:{click:function(e){return e.stopPropagation(),t.onClose(e)}}},[t._t("default")],2)},n=[],a={name:"Popup",props:{value:{type:Boolean,default:!1}},methods:{onClose:function(){}}},o=a,r=(s("3631"),s("2877")),c=Object(r["a"])(o,i,n,!1,null,"d88c033e",null);e["a"]=c.exports},cce7:function(t,e,s){},ed72:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"goods-action-button",class:"button-"+t.type,on:{click:t.btn}},[t._v(" "+t._s(t.text)+" ")])},n=[],a={name:"GoodsActionButton",props:{type:{type:String,default:""},text:{type:String,default:"按钮"}},methods:{btn:function(){this.$emit("click")}}},o=a,r=(s("40a8"),s("2877")),c=Object(r["a"])(o,i,n,!1,null,"6450d556",null);e["a"]=c.exports},f18a:function(t,e,s){"use strict";var i=s("3971"),n=s.n(i);n.a},fb6a:function(t,e,s){"use strict";var i=s("23e7"),n=s("861d"),a=s("e8b5"),o=s("23cb"),r=s("50c4"),c=s("fc6a"),u=s("8418"),l=s("b622"),d=s("1dde"),f=s("ae40"),p=d("slice"),h=f("slice",{ACCESSORS:!0,0:0,1:2}),v=l("species"),b=[].slice,m=Math.max;i({target:"Array",proto:!0,forced:!p||!h},{slice:function(t,e){var s,i,l,d=c(this),f=r(d.length),p=o(t,f),h=o(void 0===e?f:e,f);if(a(d)&&(s=d.constructor,"function"!=typeof s||s!==Array&&!a(s.prototype)?n(s)&&(s=s[v],null===s&&(s=void 0)):s=void 0,s===Array||void 0===s))return b.call(d,p,h);for(i=new(void 0===s?Array:s)(m(h-p,0)),l=0;p<h;p++,l++)p in d&&u(i,l,d[p]);return i.length=l,i}})},fe94:function(t,e,s){}}]);