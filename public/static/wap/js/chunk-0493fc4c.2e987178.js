(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0493fc4c"],{"159b":function(t,e,n){var i=n("da84"),r=n("fdbc"),o=n("17c2"),a=n("9112");for(var s in r){var c=i[s],l=c&&c.prototype;if(l&&l.forEach!==o)try{a(l,"forEach",o)}catch(u){l.forEach=o}}},"17c2":function(t,e,n){"use strict";var i=n("b727").forEach,r=n("a640"),o=n("ae40"),a=r("forEach"),s=o("forEach");t.exports=a&&s?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},"38d5":function(t,e,n){"use strict";n("68ef")},4160:function(t,e,n){"use strict";var i=n("23e7"),r=n("17c2");i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},4431:function(t,e,n){"use strict";var i=n("b135"),r=n.n(i);r.a},"6c87":function(t,e,n){},"772a":function(t,e,n){"use strict";var i=n("d282"),r=n("db85"),o=Object(i["a"])("form"),a=o[0],s=o[1];e["a"]=a({props:{colon:Boolean,labelWidth:[Number,String],labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,errorMessageAlign:String,submitOnEnter:{type:Boolean,default:!0},validateTrigger:{type:String,default:"onBlur"},showError:{type:Boolean,default:!0},showErrorMessage:{type:Boolean,default:!0}},provide:function(){return{vanForm:this}},data:function(){return{fields:[]}},methods:{validateSeq:function(){var t=this;return new Promise((function(e,n){var i=[];t.fields.reduce((function(t,e){return t.then((function(){if(!i.length)return e.validate().then((function(t){t&&i.push(t)}))}))}),Promise.resolve()).then((function(){i.length?n(i):e()}))}))},validateAll:function(){var t=this;return new Promise((function(e,n){Promise.all(t.fields.map((function(t){return t.validate()}))).then((function(t){t=t.filter((function(t){return t})),t.length?n(t):e()}))}))},validate:function(t){return t?this.validateField(t):this.validateFirst?this.validateSeq():this.validateAll()},validateField:function(t){var e=this.fields.filter((function(e){return e.name===t}));return e.length?new Promise((function(t,n){e[0].validate().then((function(e){e?n(e):t()}))})):Promise.reject()},resetValidation:function(t){this.fields.forEach((function(e){t&&e.name!==t||e.resetValidation()}))},scrollToField:function(t,e){this.fields.forEach((function(n){n.name===t&&n.$el.scrollIntoView(e)}))},addField:function(t){this.fields.push(t),Object(r["a"])(this.fields,this)},removeField:function(t){this.fields=this.fields.filter((function(e){return e!==t}))},getValues:function(){return this.fields.reduce((function(t,e){return t[e.name]=e.formValue,t}),{})},onSubmit:function(t){t.preventDefault(),this.submit()},submit:function(){var t=this,e=this.getValues();this.validate().then((function(){t.$emit("submit",e)})).catch((function(n){t.$emit("failed",{values:e,errors:n}),t.scrollToError&&t.scrollToField(n[0].name)}))}},render:function(){var t=arguments[0];return t("form",{class:s(),on:{submit:this.onSubmit}},[this.slots()])}})},"79d3":function(t,e,n){"use strict";var i=n("6c87"),r=n.n(i);r.a},a192:function(t,e,n){"use strict";n.r(e);var i,r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isLoading?t._e():n("div",[n("div",{staticClass:"search",on:{click:function(e){return t.$router.push("/search/index")}}},[n("van-search",{attrs:{shape:"round",background:"#fff",placeholder:"请输入搜索关键词"},on:{search:t.onSearchSubmit},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),n("div",{staticClass:"category-box",style:"height:"+t.clientHeight+"px"},[n("div",{staticClass:"menu"},[n("div",{ref:"menu",staticClass:"wrapper-menu",style:"height:"+t.clientHeight+"px"},[n("ul",t._l(t.category,(function(e,i){return n("li",{key:i,ref:"cat",refInFor:!0,class:{active:t.currentIndex==i},on:{click:function(e){return t.selectMenu(i)}}},[t._v(t._s(e.title))])})),0)])]),n("div",{staticClass:"content"},[n("div",{ref:"content",staticClass:"wrapper-content",style:"height:"+t.clientHeight+"px"},[n("ul",t._l(t.category,(function(e,i){return n("li",{key:i,ref:"item",refInFor:!0},[n("div",{staticClass:"title"},[n("span",[t._v(t._s(e.title))])]),n("div",{staticClass:"children"},t._l(e.children,(function(e,i){return n("div",{key:i,staticClass:"n",on:{click:function(n){return t.$router.push({path:"/goods/list/"+e.id})}}},[n("span",[n("img",{attrs:{src:e.thumb_img}})]),n("span",[t._v(t._s(e.name))])])})),0)])})),0)])])])]),t.isLoading?n("loading"):t._e()],1)},o=[],a=(n("c740"),n("4160"),n("b0c0"),n("159b"),n("ade3")),s=(n("5852"),n("d961")),c=(n("38d5"),n("772a")),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"loading"}),t.layer?n("div",{staticClass:"layer-box",style:"background-color:"+t.color}):t._e()])},u=[],f={name:"loading",props:{layer:{type:Boolean,default:!1},color:{type:String,default:"rgba(255,255,255,0.1)"}}},h=f,d=(n("79d3"),n("2877")),v=Object(d["a"])(h,l,u,!1,null,"137b7049",null),m=v.exports,g=n("1fba"),p={name:"Category",components:(i={},Object(a["a"])(i,c["a"].name,c["a"]),Object(a["a"])(i,s["a"].name,s["a"]),Object(a["a"])(i,m.name,m),i),data:function(){return{isLoading:!0,value:"",clientHeight:window.outerHeight-100,scrollMenu:null,scrollContent:null,currentIndex:0,category:[],menuH:[],arrH:[],scrollY:0,menuScrollY:0}},created:function(){},mounted:function(){var t=this;this.$http.getCategoryList().then((function(e){e.status&&(t.category=e.data,t.isLoading=!1,t.$nextTick((function(){t.initScroll()})))}))},watch:{scrollY:function(t){var e=this;this.currentIndex=this.arrH.findIndex((function(n,i){return t>=e.arrH[i]&&t<e.arrH[i+1]})),this.menuScrollY=this.menuH[this.currentIndex]-this.clientHeight,this.scrollMenu.scrollToElement(this.$refs.menu,100,0,this.menuScrollY+40)}},methods:{initScroll:function(){var t=this;this.scrollMenu=new g["a"](this.$refs.menu,{click:!0,startY:0,scrollX:!1,scrollY:!0});var e=this.$refs.cat,n=0;this.menuH.push(n),e.forEach((function(e){n+=e.clientHeight,t.menuH.push(n)})),this.scrollContent=new g["a"](this.$refs.content,{probeType:3,startY:0,click:!0,scrollX:!1,scrollY:!0}),this.scrollContent.on("scroll",(function(e){t.scrollY=Math.abs(Math.round(e.y))}));var i=this.$refs.item,r=0;this.arrH.push(r),i.forEach((function(e){r+=e.clientHeight,t.arrH.push(r)}))},selectMenu:function(t){this.currentIndex=t,this.scrollContent.scrollToElement(this.$refs.item[t],500)},onSearchSubmit:function(t){console.log(t)}}},b=p,y=(n("4431"),Object(d["a"])(b,r,o,!1,null,"46b36624",null));e["default"]=y.exports},b135:function(t,e,n){},b727:function(t,e,n){var i=n("0366"),r=n("44ad"),o=n("7b0b"),a=n("50c4"),s=n("65f0"),c=[].push,l=function(t){var e=1==t,n=2==t,l=3==t,u=4==t,f=6==t,h=5==t||f;return function(d,v,m,g){for(var p,b,y=o(d),E=r(y),x=i(v,m,3),w=a(E.length),S=0,H=g||s,C=e?H(d,w):n?H(d,0):void 0;w>S;S++)if((h||S in E)&&(p=E[S],b=x(p,S,y),t))if(e)C[S]=b;else if(b)switch(t){case 3:return!0;case 5:return p;case 6:return S;case 2:c.call(C,p)}else if(u)return!1;return f?-1:l||u?u:C}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},c740:function(t,e,n){"use strict";var i=n("23e7"),r=n("b727").findIndex,o=n("44d2"),a=n("ae40"),s="findIndex",c=!0,l=a(s);s in[]&&Array(1)[s]((function(){c=!1})),i({target:"Array",proto:!0,forced:c||!l},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o(s)}}]);