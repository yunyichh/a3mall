(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b265848"],{"0653":function(t,e,a){"use strict";a("68ef"),a("5c56")},"17c2f":function(t,e,a){},"1d82":function(t,e,a){},"1f87":function(t,e,a){"use strict";a("68ef"),a("1d82")},"2d64":function(t,e,a){"use strict";var i=a("17c2f"),s=a.n(i);s.a},"34e9":function(t,e,a){"use strict";var i=a("2638"),s=a.n(i),r=a("d282"),n=a("ba31"),o=a("b1d2"),c=Object(r["a"])("cell-group"),l=c[0],d=c[1];function u(t,e,a,i){var r,c=t("div",s()([{class:[d(),(r={},r[o["d"]]=e.border,r)]},Object(n["b"])(i,!0)]),[null==a.default?void 0:a.default()]);return e.title||a.title?t("div",[t("div",{class:d("title")},[a.title?a.title():e.title]),c]):c}u.props={title:String,border:{type:Boolean,default:!0}},e["a"]=l(u)},"510b":function(t,e,a){"use strict";var i=a("d282"),s=a("9884"),r=Object(i["a"])("steps"),n=r[0],o=r[1];e["a"]=n({mixins:[Object(s["b"])("vanSteps")],props:{activeColor:String,inactiveIcon:String,active:{type:[Number,String],default:0},direction:{type:String,default:"horizontal"},activeIcon:{type:String,default:"checked"}},render:function(){var t=arguments[0];return t("div",{class:o([this.direction])},[t("div",{class:o("items")},[this.slots()])])}})},5246:function(t,e,a){"use strict";a("68ef"),a("9d70"),a("3743"),a("8a0b")},"5c56":function(t,e,a){},"66b9":function(t,e,a){"use strict";a("68ef"),a("9d70"),a("3743"),a("e3b3"),a("bc1b")},"6b41":function(t,e,a){"use strict";var i=a("d282"),s=a("b1d2"),r=a("ad06"),n=Object(i["a"])("nav-bar"),o=n[0],c=n[1];e["a"]=o({props:{title:String,fixed:Boolean,zIndex:[Number,String],leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,border:{type:Boolean,default:!0}},data:function(){return{height:null}},mounted:function(){this.placeholder&&this.fixed&&(this.height=this.$refs.navBar.getBoundingClientRect().height)},methods:{genLeft:function(){var t=this.$createElement,e=this.slots("left");return e||[this.leftArrow&&t(r["a"],{class:c("arrow"),attrs:{name:"arrow-left"}}),this.leftText&&t("span",{class:c("text")},[this.leftText])]},genRight:function(){var t=this.$createElement,e=this.slots("right");return e||(this.rightText?t("span",{class:c("text")},[this.rightText]):void 0)},genNavBar:function(){var t,e=this.$createElement;return e("div",{ref:"navBar",style:{zIndex:this.zIndex},class:[c({fixed:this.fixed}),(t={},t[s["b"]]=this.border,t)]},[e("div",{class:c("left"),on:{click:this.onClickLeft}},[this.genLeft()]),e("div",{class:[c("title"),"van-ellipsis"]},[this.slots("title")||this.title]),e("div",{class:c("right"),on:{click:this.onClickRight}},[this.genRight()])])},onClickLeft:function(t){this.$emit("click-left",t)},onClickRight:function(t){this.$emit("click-right",t)}},render:function(){var t=arguments[0];return this.placeholder&&this.fixed?t("div",{class:c("placeholder"),style:{height:this.height+"px"}},[this.genNavBar()]):this.genNavBar()}})},"72cf":function(t,e,a){},"77f8":function(t,e,a){"use strict";a("68ef"),a("9d70"),a("3743"),a("ae39")},"8a0b":function(t,e,a){},"8a58":function(t,e,a){"use strict";a("68ef"),a("a71a"),a("9d70"),a("3743"),a("4d75")},"91d5":function(t,e,a){"use strict";a("68ef"),a("72cf")},"9dd3":function(t,e,a){"use strict";a.r(e);var i,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-nav-bar",{attrs:{title:"订单详情","left-arrow":"",fixed:!0,placeholder:!0,"z-index":99999},on:{"click-left":t.prev}}),t.isEmpty?a("van-empty",{attrs:{image:t.emptyImage,description:t.emptyDescription}}):t._e(),t.isEmpty?t._e():a("div",[a("div",{staticClass:"top"},[a("div",{staticClass:"status"},[a("van-steps",{attrs:{active:t.active}},[a("van-step",[t._v("待付款")]),a("van-step",[t._v("待发货")]),a("van-step",[t._v("待收货")]),a("van-step",[t._v("待评价")]),a("van-step",[t._v("己完成")])],1)],1),a("div",{staticClass:"address"},[a("div",{staticClass:"info"},[a("span",[t._v("收件人："+t._s(t.order.accept_name))]),a("span",[t._v("手机号："+t._s(t.order.mobile))])]),a("div",{staticClass:"address-info"},[t._v(" "+t._s(t.order.region)+" "+t._s(t.order.address)+" ")])])]),a("div",{staticClass:"goods"},[a("div",{staticClass:"title"},[a("span",[t._v("共"+t._s(t.order.item.length)+"件商品")])]),a("div",{staticClass:"goods-box"},t._l(t.order.item,(function(e,i){return a("div",{key:i,staticClass:"goods-item clear",on:{click:function(a){return t.$router.push("/goods/view/"+e.goods_id)}}},[a("div",{staticClass:"goods-img"},[a("img",{attrs:{src:e.thumb_image}})]),a("div",{staticClass:"goods-info"},[a("div",{staticClass:"t"},[a("span",[t._v(t._s(e.title))]),a("span",[t._v("￥"+t._s(e.sell_price))])]),a("div",{staticClass:"b"},[a("span",[t._v(t._s(e.spec))]),a("span",[t._v("× "+t._s(e.nums))])])])])})),0)]),a("div",{staticClass:"order"},[t._m(0),a("van-cell-group",[a("van-cell",{attrs:{title:"订单编号：",value:t.order.order_no}}),a("van-cell",{attrs:{title:"下单时间：",value:t.order.create_time}}),a("van-cell",{attrs:{title:"订单类型：",value:t.order.type}}),a("van-cell",{attrs:{title:"支付状态：",value:t.order.pay_status}}),a("van-cell",{attrs:{title:"支付方式：",value:t.order.pay_type}})],1)],1),a("div",{staticClass:"order"},[a("van-cell-group",[a("van-cell",{attrs:{title:"商品金额：",value:t.order.real_amount}}),a("van-cell",{attrs:{title:"运费金额：",value:t.order.payable_freight}}),a("van-cell",{attrs:{title:"订单总额：",value:t.order.order_amount,"value-class":"money"}})],1)],1),4!=t.active?a("div",[a("div",{staticClass:"operation-placeholder"}),a("div",{staticClass:"operation"},[1==t.order.order_status?a("span",{staticClass:"cancel",on:{click:t.cancel}},[t._v("取消订单")]):t._e(),1==t.order.order_status?a("span",{staticClass:"pay",on:{click:function(e){t.popupShow=!0}}},[t._v("立即付款")]):t._e(),2==t.order.order_status||3==t.order.order_status||4==t.order.order_status?a("span",{staticClass:"confirm",on:{click:t.confirm}},[t._v("确认收货")]):t._e(),2==t.order.order_status||3==t.order.order_status||4==t.order.order_status?a("span",{staticClass:"refund",on:{click:t.refund}},[t._v("申请退款")]):t._e(),5==t.order.order_status?a("span",{staticClass:"evaluate",on:{click:t.evaluate}},[t._v("待评价")]):t._e()])]):t._e()]),a("van-popup",{style:{height:"40%"},attrs:{closeable:"",position:"bottom"},model:{value:t.popupShow,callback:function(e){t.popupShow=e},expression:"popupShow"}},[a("div",{staticClass:"popup-payment"},[a("div",{staticClass:"payment-box"},[a("div",{staticClass:"payment-item",on:{click:function(e){return t.selectPayment("wechat")}}},[a("span",[a("i",{staticClass:"fa fa-weixin",staticStyle:{color:"#fff","background-color":"#41b035"}})]),a("span",{class:{activeColor:"wechat"==t.payment}},[t._v("微信支付")]),a("span",{class:{active:"wechat"==t.payment}},[a("i",{staticClass:"fa fa-check"})])]),a("div",{staticClass:"payment-item",on:{click:function(e){return t.selectPayment("balance")}}},[a("span",[a("i",{staticClass:"fa fa-jpy",staticStyle:{color:"#fff","background-color":"#fe960f"}})]),a("span",{class:{activeColor:"balance"==t.payment}},[t._v("余额支付"),a("i",[t._v("可用余额: ￥"+t._s(t.order.users_price)+"元")])]),a("span",{class:{active:"balance"==t.payment}},[a("i",{staticClass:"fa fa-check"})])])])]),a("div",{staticClass:"payment-button"},[a("van-button",{attrs:{type:"danger",block:""},on:{click:t.goPay}},[t._v("去支付")])],1)])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("span",[t._v("订单信息")])])}],n=(a("b0c0"),a("ac1f"),a("5319"),a("e7e5"),a("d399")),o=a("ade3"),c=(a("66b9"),a("b650")),l=(a("91d5"),a("f0ca")),d=(a("8a58"),a("e41f")),u=(a("0653"),a("34e9")),p=(a("c194"),a("7744")),f=(a("1f87"),a("510b")),h=(a("77f8"),a("dc0f")),v=(a("5246"),a("6b41")),m={name:"OrderDetail",components:(i={},Object(o["a"])(i,v["a"].name,v["a"]),Object(o["a"])(i,h["a"].name,h["a"]),Object(o["a"])(i,f["a"].name,f["a"]),Object(o["a"])(i,p["a"].name,p["a"]),Object(o["a"])(i,u["a"].name,u["a"]),Object(o["a"])(i,d["a"].name,d["a"]),Object(o["a"])(i,l["a"].name,l["a"]),Object(o["a"])(i,c["a"].name,c["a"]),i),data:function(){return{popupShow:!1,payment:"wechat",isEmpty:!1,emptyImage:"search",emptyDescription:"订单不存在！",active:0,order:{accept_name:"",address:"",create_time:"",item:[],mobile:"",order_amount:"",order_no:"",pay_status:"",pay_type:"",payable_freight:"",payable_amount:"",promotions:"",real_amount:"",region:"",type:"",users_price:"0.00",order_status:1}}},created:function(){this.onLoadOrder()},mounted:function(){},methods:{onLoadOrder:function(){var t=this,e=this.$route.params.id;this.isEmpty=!1,this.$http.getOrderDetail({id:e}).then((function(e){e.status?(t.active=e.data.active,t.order=e.data):Object(n["a"])(e.info)})).catch((function(e){t.isEmpty=!0,t.emptyImage="network",t.emptyDescription="网络出错，请检查网络是否连接"}))},selectPayment:function(t){this.payment=t},prev:function(){this.$router.replace("/order/list/1")},goPay:function(){var t=this;n["a"].loading({message:"加载中...",forbidClick:!0,loadingType:"spinner",duration:0}),this.$http.getOrderDetailPayment({order_id:this.$route.params.id,payment_id:this.payment,source:this.$tools.isWeiXin()?2:1}).then((function(e){n["a"].clear(),e.status?t.resultOrderData(e.data):Object(n["a"])(e.info)})).catch((function(t){n["a"].clear(),Object(n["a"])("网络出错，请检查网络是否连接")}))},resultOrderData:function(t){switch(this.popupShow=!1,t.pay+""){case"0":Object(n["a"])("支付成功"),this.order.order_status=2;break;case"1":this.$wx.config(t.result.config);var e=t.result.options,a=this;e.success=function(){Object(n["a"])("支付成功"),a.order.order_status=2},this.$wx.chooseWXPay(e);break;case"2":location.href=t.result.url+"&redirect_url="+location.origin+"/order/detail/"+t.order_id;break;case"99":Object(n["a"])(t.msg);break}},confirm:function(){this.$router.push("/order/confirm_delivery/"+this.$route.params.id)},refund:function(){this.$router.push("/order/refund/"+this.$route.params.id)},evaluate:function(){this.$router.push("/order/evaluate/"+this.$route.params.id)},cancel:function(){var t=this;n["a"].loading({message:"加载中...",forbidClick:!0,loadingType:"spinner",duration:0});var e=this.$route.params.id;this.$http.getOrderDetailCancel({order_id:e}).then((function(e){n["a"].clear(),e.status?(Object(n["a"])(e.info),t.$router.replace("/order/list/1")):Object(n["a"])(e.info)})).catch((function(t){n["a"].clear(),Object(n["a"])("网络出错，请检查网络是否连接")}))}}},g=m,b=(a("2d64"),a("2877")),y=Object(b["a"])(g,s,r,!1,null,"435fea61",null);e["default"]=y.exports},ae39:function(t,e,a){},b650:function(t,e,a){"use strict";var i=a("c31d"),s=a("2638"),r=a.n(s),n=a("d282"),o=a("ba31"),c=a("b1d2"),l=a("48f4"),d=a("ad06"),u=a("543e"),p=Object(n["a"])("button"),f=p[0],h=p[1];function v(t,e,a,i){var s,n=e.tag,p=e.icon,f=e.type,v=e.color,m=e.plain,g=e.disabled,b=e.loading,y=e.hairline,_=e.loadingText,x={};function C(t){b||g||(Object(o["a"])(i,"click",t),Object(l["a"])(i))}function k(t){Object(o["a"])(i,"touchstart",t)}v&&(x.color=m?v:c["f"],m||(x.background=v),-1!==v.indexOf("gradient")?x.border=0:x.borderColor=v);var O=[h([f,e.size,{plain:m,loading:b,disabled:g,hairline:y,block:e.block,round:e.round,square:e.square}]),(s={},s[c["c"]]=y,s)];function S(){var i,s=[];return b?s.push(t(u["a"],{class:h("loading"),attrs:{size:e.loadingSize,type:e.loadingType,color:"currentColor"}})):p&&s.push(t(d["a"],{attrs:{name:p,classPrefix:e.iconPrefix},class:h("icon")})),i=b?_:a.default?a.default():e.text,i&&s.push(t("span",{class:h("text")},[i])),s}return t(n,r()([{style:x,class:O,attrs:{type:e.nativeType,disabled:g},on:{click:C,touchstart:k}},Object(o["b"])(i)]),[t("div",{class:h("content")},[S()])])}v.props=Object(i["a"])(Object(i["a"])({},l["c"]),{},{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"}}),e["a"]=f(v)},bc1b:function(t,e,a){},dc0f:function(t,e,a){"use strict";var i=a("d282"),s=a("b1d2"),r=a("9884"),n=a("ad06"),o=Object(i["a"])("step"),c=o[0],l=o[1];e["a"]=c({mixins:[Object(r["a"])("vanSteps")],computed:{status:function(){return this.index<this.parent.active?"finish":this.index===+this.parent.active?"process":void 0},active:function(){return"process"===this.status},lineStyle:function(){if("finish"===this.status&&this.parent.activeColor)return{background:this.parent.activeColor}}},methods:{genCircle:function(){var t=this.$createElement,e=this.parent,a=e.activeIcon,i=e.activeColor,s=e.inactiveIcon;if(this.active)return this.slots("active-icon")||t(n["a"],{class:l("icon","active"),attrs:{name:a,color:i}});var r=this.slots("inactive-icon");return s||r?r||t(n["a"],{class:l("icon"),attrs:{name:s}}):t("i",{class:l("circle"),style:this.lineStyle})},onClickStep:function(){this.parent.$emit("click-step",this.index)}},render:function(){var t,e=arguments[0],a=this.status,i=this.active,r=this.parent,n=r.activeColor,o=r.direction,c=i&&{color:n};return e("div",{class:[s["a"],l([o,(t={},t[a]=a,t)])]},[e("div",{class:l("title",{active:i}),style:c,on:{click:this.onClickStep}},[this.slots()]),e("div",{class:l("circle-container"),on:{click:this.onClickStep}},[this.genCircle()]),e("div",{class:l("line"),style:this.lineStyle})])}})},e41f:function(t,e,a){"use strict";var i=a("d282"),s=a("a142"),r=a("6605"),n=a("ad06"),o=Object(i["a"])("popup"),c=o[0],l=o[1];e["a"]=c({mixins:[Object(r["a"])()],props:{round:Boolean,duration:[Number,String],closeable:Boolean,transition:String,safeAreaInsetBottom:Boolean,closeIcon:{type:String,default:"cross"},closeIconPosition:{type:String,default:"top-right"},position:{type:String,default:"center"},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},beforeCreate:function(){var t=this,e=function(e){return function(a){return t.$emit(e,a)}};this.onClick=e("click"),this.onOpened=e("opened"),this.onClosed=e("closed")},render:function(){var t,e=arguments[0];if(this.shouldRender){var a=this.round,i=this.position,r=this.duration,o="center"===i,c=this.transition||(o?"van-fade":"van-popup-slide-"+i),d={};if(Object(s["b"])(r)){var u=o?"animationDuration":"transitionDuration";d[u]=r+"s"}return e("transition",{attrs:{name:c},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[e("div",{directives:[{name:"show",value:this.value}],style:d,class:l((t={round:a},t[i]=i,t["safe-area-inset-bottom"]=this.safeAreaInsetBottom,t)),on:{click:this.onClick}},[this.slots(),this.closeable&&e(n["a"],{attrs:{role:"button",tabindex:"0",name:this.closeIcon},class:l("close-icon",this.closeIconPosition),on:{click:this.close}})])])}}})},f0ca:function(t,e,a){"use strict";var i=a("d282"),s={render:function(){var t=arguments[0],e=function(e,a,i){return t("stop",{attrs:{"stop-color":e,offset:a+"%","stop-opacity":i}})};return t("svg",{attrs:{viewBox:"0 0 160 160",xmlns:"http://www.w3.org/2000/svg"}},[t("defs",[t("linearGradient",{attrs:{id:"c",x1:"64.022%",y1:"100%",x2:"64.022%",y2:"0%"}},[e("#FFF",0,.5),e("#F2F3F5",100)]),t("linearGradient",{attrs:{id:"d",x1:"64.022%",y1:"96.956%",x2:"64.022%",y2:"0%"}},[e("#F2F3F5",0,.3),e("#F2F3F5",100)]),t("linearGradient",{attrs:{id:"h",x1:"50%",y1:"0%",x2:"50%",y2:"84.459%"}},[e("#EBEDF0",0),e("#DCDEE0",100,0)]),t("linearGradient",{attrs:{id:"i",x1:"100%",y1:"0%",x2:"100%",y2:"100%"}},[e("#EAEDF0",0),e("#DCDEE0",100)]),t("linearGradient",{attrs:{id:"k",x1:"100%",y1:"100%",x2:"100%",y2:"0%"}},[e("#EAEDF0",0),e("#DCDEE0",100)]),t("linearGradient",{attrs:{id:"m",x1:"0%",y1:"43.982%",x2:"100%",y2:"54.703%"}},[e("#EAEDF0",0),e("#DCDEE0",100)]),t("linearGradient",{attrs:{id:"n",x1:"94.535%",y1:"43.837%",x2:"5.465%",y2:"54.948%"}},[e("#EAEDF0",0),e("#DCDEE0",100)]),t("radialGradient",{attrs:{id:"g",cx:"50%",cy:"0%",fx:"50%",fy:"0%",r:"100%",gradientTransform:"matrix(0 1 -.54835 0 .5 -.5)"}},[e("#EBEDF0",0),e("#FFF",100,0)])]),t("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[t("g",{attrs:{opacity:".8"}},[t("path",{attrs:{d:"M0 124V46h20v20h14v58H0z",fill:"url(#c)",transform:"matrix(-1 0 0 1 36 7)"}}),t("path",{attrs:{d:"M40.5 5a8.504 8.504 0 018.13 6.009l.12-.005L49 11a8 8 0 11-1 15.938V27H34v-.174a6.5 6.5 0 11-1.985-12.808A8.5 8.5 0 0140.5 5z",fill:"url(#d)",transform:"translate(2 7)"}}),t("path",{attrs:{d:"M96.016 0a4.108 4.108 0 013.934 2.868l.179-.004c2.138 0 3.871 1.71 3.871 3.818 0 2.109-1.733 3.818-3.871 3.818-.164 0-.325-.01-.484-.03v.03h-6.774v-.083a3.196 3.196 0 01-.726.083C90.408 10.5 89 9.111 89 7.398c0-1.636 1.284-2.976 2.911-3.094a3.555 3.555 0 01-.008-.247c0-2.24 1.842-4.057 4.113-4.057z",fill:"url(#d)",transform:"translate(2 7)"}}),t("path",{attrs:{d:"M121 8h22.231v14H152v77.37h-31V8z",fill:"url(#c)",transform:"translate(2 7)"}})]),t("path",{attrs:{fill:"url(#g)",d:"M0 139h160v21H0z"}}),t("path",{attrs:{d:"M37 18a7 7 0 013 13.326v26.742c0 1.23-.997 2.227-2.227 2.227h-1.546A2.227 2.227 0 0134 58.068V31.326A7 7 0 0137 18z",fill:"url(#h)","fill-rule":"nonzero",transform:"translate(43 36)"}}),t("g",{attrs:{opacity:".6","stroke-linecap":"round","stroke-width":"7"}},[t("path",{attrs:{d:"M20.875 11.136a18.868 18.868 0 00-5.284 13.121c0 5.094 2.012 9.718 5.284 13.12",stroke:"url(#i)",transform:"translate(43 36)"}}),t("path",{attrs:{d:"M9.849 0C3.756 6.225 0 14.747 0 24.146c0 9.398 3.756 17.92 9.849 24.145",stroke:"url(#i)",transform:"translate(43 36)"}}),t("path",{attrs:{d:"M57.625 11.136a18.868 18.868 0 00-5.284 13.121c0 5.094 2.012 9.718 5.284 13.12",stroke:"url(#k)",transform:"rotate(-180 76.483 42.257)"}}),t("path",{attrs:{d:"M73.216 0c-6.093 6.225-9.849 14.747-9.849 24.146 0 9.398 3.756 17.92 9.849 24.145",stroke:"url(#k)",transform:"rotate(-180 89.791 42.146)"}})]),t("g",{attrs:{transform:"translate(31 105)","fill-rule":"nonzero"}},[t("rect",{attrs:{fill:"url(#m)",width:"98",height:"34",rx:"2"}}),t("rect",{attrs:{fill:"#FFF",x:"9",y:"8",width:"80",height:"18",rx:"1.114"}}),t("rect",{attrs:{fill:"url(#n)",x:"15",y:"12",width:"18",height:"6",rx:"1.114"}})])])])}},r=Object(i["a"])("empty"),n=r[0],o=r[1],c=["error","search","default"];e["a"]=n({props:{description:String,image:{type:String,default:"default"}},methods:{genImageContent:function(){var t=this.$createElement,e=this.slots("image");if(e)return e;if("network"===this.image)return t(s);var a=this.image;return-1!==c.indexOf(a)&&(a="https://img.yzcdn.cn/vant/empty-image-"+a+".png"),t("img",{attrs:{src:a}})},genImage:function(){var t=this.$createElement;return t("div",{class:o("image")},[this.genImageContent()])},genDescription:function(){var t=this.$createElement,e=this.slots("description")||this.description;if(e)return t("p",{class:o("description")},[e])},genBottom:function(){var t=this.$createElement,e=this.slots();if(e)return t("div",{class:o("bottom")},[e])}},render:function(){var t=arguments[0];return t("div",{class:o()},[this.genImage(),this.genDescription(),this.genBottom()])}})}}]);